tree("Root")
	parallel
		repeat mute tree("AvoidObstacle")
		sequence
			SetTargetByTag("Player")
			repeat
				fallback
					tree("FollowTarget")
					tree("Preparation")
					tree("Dash")

tree("FollowTarget")
	fallback
		while not ReachTargetAtDistance
			sequence
				RotateToFaceTarget
				MoveForward
		while not isLookToTarget
			sequence
				Stop
				RotateToFaceTarget


tree("Preparation")
	sequence
		Stop
		SetAnimatorTrigger("dash")
		WaitCurrentAnimationEnd
		Fail


tree("Dash")
	sequence
		InstanceAllPrefabsWithParent
		SetAnimatorTrigger("iddle")
		Dash(true)
		WaitTimeInDash
